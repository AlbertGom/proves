"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const locale_migrator_1 = require("../../contentful/export/locale-migrator");
const space_export_1 = require("../../contentful/export/space-export");
if (process.argv.length < 6 || process.argv[2] == '--help') {
    console.error(`Usage: fromFile toFile fromLocale toLocale [removeLocales]`);
    console.error('removeLocales: locales to remove, separated with commas. Eg: en,es');
    // eslint-disable-next-line no-process-exit
    process.exit(1);
}
const fromFile = process.argv[2];
const toFile = process.argv[3];
const fromLocale = process.argv[4];
const toLocale = process.argv[5];
const removeLocales = process.argv.length > 6 ? process.argv[6] : '';
function main() {
    const spaceExport = space_export_1.SpaceExport.fromJsonFile(fromFile);
    const migrator = new locale_migrator_1.LocaleMigrator(fromLocale, toLocale);
    const remover = new locale_migrator_1.LocaleRemover(removeLocales.split(/[, ;]/), toLocale);
    console.log('Removing locales', remover.removeLocs);
    migrator.migrate(spaceExport);
    remover.remove(spaceExport);
    spaceExport.write(toFile);
    console.log('done');
}
main();
//# sourceMappingURL=locale-migrate.js.map